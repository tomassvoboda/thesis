\begin{tikzpicture}[my_automaton]
    \tikzstyle{every state}=[my_named_state]
    \tikzstyle{initial}=[my_initial_state]
    \tikzstyle{accepting}=[my_accepting_state]
    %\draw[help lines] (-1.8,1.8) grid (1.8,-1.8);
    \node[state] (0) at (180:1.8) {0};
    \node[state] (2) at (90:1.8) {2};
    \node[state] (3) at (45:1.8) {3};
    \node[state] (4) at (0:1.8) {4};
    \node[state] (5) at (-45:1.8) {5};
    \node[state] (6) at (-90:1.8) {6};
    \node[state] (7) at (-135:1.8) {7};

    \node[state, initial, initial above] (i) at (155:3) {$i$};
    \node[state, accepting] (t) at (-155:3) {$t$};

    \path
        (0) edge [loop right] node {$ab$} ()
        (0) edge [bend left] node [above] {$a^2$} (2)
        (2) edge [bend left=15] node [near start, below=+1mm] {$b^2$} (0)
        (2) edge [loop above] node [right=+1mm] {$ab$} ()
        (2) edge [bend left] node [above right=-1mm] {$a$} (3)
        (3) edge [bend left] node [near start, below left=-1mm] {$b$} (2)
        (3) edge [in=30, out=60, distance=0.7cm, loop, above] node {$\re{0}$} ()
        (3) edge [bend left] node [right] {$a$} (4)
        (4) edge [bend left] node [left] {$b$} (3)
        (4) edge [loop left] node {$\re{0}$} ()
        (4) edge [bend left] node [right] {$a$} (5)
        (5) edge [bend left] node [left=-0.5mm] {$b$} (4)
        (5) edge [in=-60, out=-30, distance=0.7cm, loop, below] node {$\re{0}$} ()
        (5) edge [bend left] node [below] {$a$} (6)
        (6) edge [bend left] node [above] {$b$} (5)
        (6) edge [loop below] node [right] {$\re{0}$} ()
        (6) edge [bend left] node [below] {$a$} (7)
        (7) edge [bend left] node [above] {$b$} (6)
        (7) edge [in=-155, out=-120, distance=0.7cm, loop, below] node {$\re{0}$} ()
        (7) edge [bend left] node [left] {$a$} (0)
        (0) edge [bend left] node [near end, above right=-1.2mm] {$b$} (7)

        (i) edge [bend right] node [left] {$\re{1}$} (0)
        (0) edge [bend right] node [above left=-1mm] {$\re{1}$} (t)
    ;
\end{tikzpicture}